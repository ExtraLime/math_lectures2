text,start,stop
"Last time I left you with a cliffhanger,
right?",00:00:00.200,00:00:03.060
"So we better try to resolve that,
the two envelope problem.",00:00:03.060,00:00:07.850
"So, I'll remind you what the problem is,
it's very simple to state, but not so",00:00:07.850,00:00:11.590
easy to resolve.,00:00:11.590,00:00:13.190
"So the problem is just, we have two
envelopes, envelope one, envelope two.",00:00:13.190,00:00:19.938
"They look identical, and suppose they are
X dollars in here and Y dollars in here.",00:00:19.938,00:00:28.072
"And you don't know anything
at all about X and",00:00:28.072,00:00:30.172
"Y, just they're random
variables right now.",00:00:30.172,00:00:33.200
"And all you know is that one envelope
has twice as much money as the other.",00:00:33.200,00:00:37.642
"So they each have a check for
some amount of money.",00:00:41.359,00:00:44.750
And one is double the other.,00:00:44.750,00:00:46.080
"But you have no information other than
that, twice as much as the other, okay.",00:00:46.080,00:00:51.640
"So the argument last time was,
Let's say you get to pick one.",00:00:53.240,00:00:58.570
"So let's say you pick this one,
and this one's X.",00:00:58.570,00:01:02.140
"And you don't know what
X is unless you open it.",00:01:02.140,00:01:04.920
"But you do know,
the other one is either 2X or X over 2.",00:01:04.920,00:01:09.430
"And if you average 2X and X over 2,
you get a number bigger than X,",00:01:09.430,00:01:13.073
which suggests that this one is better.,00:01:13.073,00:01:15.710
"But you could reply the same
argument to this one.",00:01:15.710,00:01:18.150
"This one's a Y,
the other one's 2Y or one-half Y.",00:01:18.150,00:01:21.369
"If you average 2Y and one-half Y,
you get a number bigger than Y.",00:01:21.369,00:01:24.290
"So, all right.",00:01:24.290,00:01:25.460
"So, let's actually write that out
kinda formally as an argument.",00:01:25.460,00:01:28.945
"So, based on the other two
competing arguments here.",00:01:28.945,00:01:31.698
"Argument one, Is",00:01:31.698,00:01:38.059
simply that E(Y) = E(X) by symmetry.,00:01:38.059,00:01:43.603
"So, if you were given some
piece of information that",00:01:48.248,00:01:52.348
"the person who put the money in
the envelopes is left-handed.",00:01:52.348,00:01:57.301
"And left-handed people subconsciously
wanna put more money on the left, or",00:01:57.301,00:02:00.786
"something like that, then you'd
have an asymmetry in the problem.",00:02:00.786,00:02:03.902
"But there was no asymmetry given, that
the way it was stated is just there's no",00:02:03.902,00:02:08.720
"difference that the left envelope
should have more or the right one, so",00:02:08.720,00:02:13.100
it's a symmetrical situation.,00:02:13.100,00:02:15.150
"It's kind of hard to argue
against symmetry here, right?",00:02:17.830,00:02:20.610
"There is no asymmetry in
the statement of the problem, so",00:02:20.610,00:02:23.020
"if somehow the envelope on the left were
better, where would that have come from?",00:02:23.020,00:02:27.080
"It doesn't make sense, okay?",00:02:27.080,00:02:28.236
So that's a pretty strong argument.,00:02:28.236,00:02:30.950
"But let's look at argument 2,
which also seems pretty strong.",00:02:30.950,00:02:33.970
Argument 2 is the condition.,00:02:35.580,00:02:37.420
Say how do we compute expectation?,00:02:40.670,00:02:43.080
"Just like when we had a probability,
we didn't know.",00:02:43.080,00:02:46.120
"We want a condition on
the thing we wish that we knew.",00:02:46.120,00:02:49.616
"And so this is just the law of total
probability except the expectation",00:02:49.616,00:02:53.412
version.,00:02:53.412,00:02:54.330
"We're gonna condition on whether,",00:02:54.330,00:02:57.630
You know either Y = 2x or Y = one-half X.,00:03:00.604,00:03:04.950
So we could just write it this way.,00:03:04.950,00:03:06.900
"E(Y|Y=2x) P(Y=2x) + E(Y|Y=
one-half X)P(Y= one-half X).",00:03:06.900,00:03:14.114
"So I mean that's just a fact about
expectation that you condition.",00:03:14.114,00:03:22.802
And the proof of this is basically just,00:03:22.802,00:03:27.858
"use the law of total probability,
and that's true.",00:03:27.858,00:03:35.400
So it's hard to argue with that.,00:03:35.400,00:03:37.420
Let's compute this.,00:03:37.420,00:03:38.960
"So the argument goes, E(Y|Y=2x),
well, then we know Y = 2x.",00:03:41.380,00:03:48.750
"So we're just gonna replace
that with E(2x) by symmetry.",00:03:48.750,00:03:53.444
"It's equally likely that Y = 2x and
Y = one-half X, so that's just one-half.",00:03:53.444,00:03:58.040
"Plus, in this case, Y is X over 2,
so we're gonna get E of X over 2,",00:03:58.040,00:04:04.244
"Probability, or that's one-half again.",00:04:05.389,00:04:08.875
"And if you simply this,
you can take out the 2,",00:04:08.875,00:04:12.812
"take out the one-half,
simplify you get five-fourths E(x).",00:04:12.812,00:04:18.376
"All right, so
then the question is how to resolve this?",00:04:18.376,00:04:22.230
"Well, first of all,",00:04:23.290,00:04:24.490
"is there any case in which both of
these statements could be true?",00:04:24.490,00:04:28.170
Someone said 0.,00:04:31.141,00:04:32.451
"Well, kinda, yeah, both envelopes have $0,
then that would be okay.",00:04:32.451,00:04:37.950
"Now, so let's assume there is a positive,
nonzero amount of money in both envelopes.",00:04:37.950,00:04:42.930
Are there any other case?,00:04:44.580,00:04:45.779
"Infinity, well, infinity equals infinity,",00:04:48.788,00:04:52.917
infinity equals five-fourths infinity.,00:04:52.917,00:04:56.746
"So one way out out it,
could we just say, well, on average,",00:04:56.746,00:04:59.830
"there's an infinite amount of money,
and then you're pretty happy, right?",00:04:59.830,00:05:04.640
"But there are not many kinda like
the Saint Petersburg paradox,",00:05:04.640,00:05:08.353
where the expected value is infinity.,00:05:08.353,00:05:10.633
"But there are not many real world
scenarios that you could think of,",00:05:10.633,00:05:15.079
"probably, where your expected value of
how much you'll make is infinity dollars.",00:05:15.079,00:05:21.040
"So let's assume that these
numbers are not 0 or infinity.",00:05:21.040,00:05:25.790
"In that case,
this is just a direct contradiction,",00:05:25.790,00:05:28.390
"meaning that one of these
two things must be wrong.",00:05:28.390,00:05:30.500
"Well, symmetry, I can't find any way
to argue against the symmetry here.",00:05:32.900,00:05:39.530
"So, this has to be right.",00:05:39.530,00:05:42.700
Symmetry takes precedence.,00:05:42.700,00:05:44.790
"So let's try to see what's
wrong with argument two.",00:05:44.790,00:05:47.919
"Well, actually,
this is one of the most common and",00:05:47.919,00:05:53.835
troublesome mistakes with conditioning is,00:05:53.835,00:05:58.928
"to kind of like use the information,
and then forget about it.",00:05:58.928,00:06:06.238
"Look at what we did here,
we plugged in the information Y=2x,",00:06:06.238,00:06:11.944
but then the condition went away.,00:06:11.944,00:06:15.020
What's the justification for that?,00:06:17.330,00:06:18.830
"There is none, it just looked good to
say that, but there's no justification.",00:06:20.640,00:06:26.180
"So, actually this step is wrong.",00:06:26.180,00:06:32.164
"So, actually it's not equal.",00:06:32.164,00:06:34.390
"What we should have written was,
it's perfectly valid to plug in the 2x.",00:06:35.450,00:06:39.930
Let's write the corrected version.,00:06:39.930,00:06:42.230
"It's perfectly valid to plug in 2x, but",00:06:43.470,00:06:45.711
"that doesn't mean we can
forget that we know Y=2x.",00:06:45.711,00:06:48.604
"So, it's 2x given Y= 2x.",00:06:48.604,00:06:51.056
"And similarly over here,
we can plug in the information, but",00:06:51.056,00:06:55.272
"it doesn't mean we're not
conditioning on it anymore.",00:06:55.272,00:06:59.180
"So, we can do that.",00:07:03.620,00:07:05.330
"But we still have to then evaluate
this conditional expectation.",00:07:05.330,00:07:10.170
"We can't just say that we can
forget this information here.",00:07:10.170,00:07:15.028
"In fact, there's no more justification for",00:07:15.028,00:07:17.030
"forgetting this information here,
then there would be up here.",00:07:17.030,00:07:21.520
You just can't say that.,00:07:21.520,00:07:23.950
So actually what we just showed is that,00:07:23.950,00:07:28.308
"essentially, E(X|Y=2x),",00:07:28.308,00:07:37.653
"Is not equal to E of,
let's do it this way,",00:07:40.418,00:07:46.950
E(Y|Y=2x) is not equal to E(2x).,00:07:46.950,00:07:53.490
"So what's going on there is I
like to think of this in terms of",00:07:53.490,00:07:57.340
indicator random variables.,00:07:57.340,00:07:59.710
"So let's just let I be
the indicator random variable.",00:07:59.710,00:08:03.225
"I is the indicator of which envelope has
more money, so we could say I is one,",00:08:03.225,00:08:08.601
"if y equals 2x, and zero otherwise, or
we could define it the other way around.",00:08:08.601,00:08:14.313
"That's the event that says that the
envelope on the right has twice as much",00:08:15.614,00:08:19.556
"money as the one on the left, okay.",00:08:19.556,00:08:21.500
So we have an indicator for that.,00:08:21.500,00:08:23.560
"Then, essentially what we just showed
is that X and I are dependent.",00:08:24.780,00:08:32.760
"We can either talk about X and
I or talk about Y and I.",00:08:32.760,00:08:37.090
"They're dependent, and
that seems surprising at first.",00:08:37.090,00:08:40.510
So let's think about what that means.,00:08:43.195,00:08:48.060
"It says that if you got to observe X, then
somehow that gives information about I.",00:08:48.060,00:08:54.798
"So now we get to think
of more about the case,",00:08:54.798,00:08:57.799
"what happens if you actually get
to open the envelope on the left?",00:08:57.799,00:09:02.280
"Okay, and you see $100 there.",00:09:02.280,00:09:04.450
"So you know the other one is 50 or
200, but the question is whether that",00:09:04.450,00:09:09.238
"changes your probabilities for I,
that is, is the other one 200 or 50?",00:09:09.238,00:09:14.190
"Is saying it's not 50,50 anymore.",00:09:14.190,00:09:16.200
Which seems a little strange because,00:09:16.200,00:09:20.200
"you're not given any information
kind of the scale of the problem.",00:09:20.200,00:09:23.650
"So let's say you open envelope on the left
and there's a trillion dollars there.",00:09:23.650,00:09:29.200
"Well probably you're really happy,
but is a trillion a big number,",00:09:29.200,00:09:34.010
or a small number?,00:09:34.010,00:09:35.870
"Well it's a lot of money, but in the grand
scheme of things, compared to the entire",00:09:35.870,00:09:41.290
"real line, from zero to infinity,
a trillion is miniscule, right?",00:09:41.290,00:09:46.560
"A trillion is nothing compared to other
numbers I could name if I wanted.",00:09:46.560,00:09:50.440
"So when you see that trillion dollars,",00:09:50.440,00:09:52.800
"does that give you information that
makes you think that the other one is",00:09:53.830,00:09:56.920
"probably only half a trillion
cuz a trillion is big?",00:09:56.920,00:09:59.690
"What's a trillion, right?",00:10:00.730,00:10:02.590
"It's nothing compared 2 to the 2 to
the 2 to the trillion to the trillion or",00:10:02.590,00:10:08.700
something like that.,00:10:08.700,00:10:10.000
"But if you would observe that
then that's nothing compared to",00:10:10.000,00:10:12.610
other numbers I could name.,00:10:12.610,00:10:13.800
"So it seems surprising that they're
dependent, but essentially we just proved",00:10:14.980,00:10:18.450
"that they have to be dependent if
the expected values are finite.",00:10:18.450,00:10:22.910
"And there's a strategic practice
that's related to this too,",00:10:24.490,00:10:28.410
"which says that, you can look up
the problem if you haven't already.",00:10:28.410,00:10:32.790
"But just to tell you what the result of
that problem is, which is also surprising.",00:10:32.790,00:10:36.530
"It also is a two envelope problem,
but in that problem",00:10:36.530,00:10:39.120
"it just assumes that there's two amounts
of money, two positive amounts of money.",00:10:39.120,00:10:42.570
"It's not assumed that
one is double the other.",00:10:42.570,00:10:44.600
"And the problem is to come up with
a strategy guaranteed to give you",00:10:44.600,00:10:49.200
"better than a 50% chance of getting
the envelope with more money.",00:10:49.200,00:10:53.340
"You get to observe one and
then you choose whether to switch.",00:10:53.340,00:10:56.560
"You can guarantee that your probability of
success is strictly greater than one half.",00:10:56.560,00:11:02.390
"Which again, at first sounds impossible.",00:11:02.390,00:11:04.396
"Because if it's a trillion dollars,
should you switch or not?",00:11:04.396,00:11:08.940
"But it says in a certain
sense that actually you can.",00:11:09.940,00:11:13.140
"You can make a measure of is a trillion
a big number or a small number.",00:11:14.430,00:11:18.160
"And the strategy is in that problem,
is to generate your own random threshold.",00:11:18.160,00:11:23.810
"That is generate some value t,",00:11:23.810,00:11:26.500
"let's say from an exponential
distribution, but it doesn't have to be.",00:11:26.500,00:11:29.640
You can pick some other distribution.,00:11:29.640,00:11:31.050
You generate your own threshold value and,00:11:31.050,00:11:33.390
"then you say you're happy if you got more
then t and unhappy if you get less then t,",00:11:33.390,00:11:36.900
"and that gives you better
then a 50% chance of success.",00:11:36.900,00:11:39.490
"All right, so anyway,
that's the two envelope problem.",00:11:41.400,00:11:44.510
"There's many, many different articles and
debates about this.",00:11:44.510,00:11:49.000
"And some people try to take Bayesian
approaches to resolving this and so on.",00:11:49.000,00:11:53.036
"But I think that's fairly unnecessary,",00:11:53.036,00:11:55.479
"I think the key blunder
is just in this step.",00:11:55.479,00:11:58.075
"And this is kind of a strange problem, but",00:11:58.075,00:12:01.058
"this mistake comes up in a lot
of other contexts as well.",00:12:01.058,00:12:05.080
So it's worth thinking carefully about.,00:12:05.080,00:12:07.250
"We plugged in the information, but",00:12:07.250,00:12:09.040
"that doesn't mean we can then
get rid of the information.",00:12:09.040,00:12:11.620
"The only time when we can get rid
of the stuff we're conditioning on",00:12:11.620,00:12:14.640
is when we know we have independence.,00:12:14.640,00:12:16.460
"And here there was no justification for
independence and in fact, X and I, or",00:12:17.610,00:12:22.440
Y and I can't be independent.,00:12:22.440,00:12:24.140
Which is not obvious.,00:12:25.310,00:12:26.457
"It's not obvious that
they're not independent, but",00:12:26.457,00:12:28.655
"on the other hand you can't just say
they're independent without proving it.",00:12:28.655,00:12:31.870
"And if you try to prove it you'll find
they actually are not independent here.",00:12:31.870,00:12:35.400
"So that's what's going
on with that problem.",00:12:35.400,00:12:37.350
"All right, so let's do another
example of conditional expectation.",00:12:39.340,00:12:45.680
The coin flipping problem.,00:12:49.380,00:12:51.400
"So I'll call this one,
Patterns in coin flips.",00:12:55.998,00:12:59.270
"Okay, so assume we have a fair coin,
all right?",00:13:03.960,00:13:07.010
"You have a related homework problem where,
where the coin may be biased.",00:13:07.010,00:13:10.530
"But right now,
we're assuming we have a fair coin and",00:13:10.530,00:13:13.400
we do a repeated fair coin flips.,00:13:13.400,00:13:17.020
"And we're waiting for
a certain pattern, okay?",00:13:22.330,00:13:25.190
"So we're gonna wait until or
we want to know how long?",00:13:26.670,00:13:31.580
"How many flips until we observe
the pattern heads followed by tails?",00:13:31.580,00:13:36.740
So I'lll just call that HT.,00:13:42.000,00:13:44.341
"That is keep flipping the coin and
eventually,",00:13:46.776,00:13:49.819
"you will observe heads immediately
followed by tails, right?",00:13:49.819,00:13:54.180
"That particular pattern
will eventually show up.",00:13:54.180,00:13:56.560
"You wanna know how many flips does that
take, including the H and the T there.",00:13:56.560,00:14:03.580
"Okay, that's a natural
question we could ask.",00:14:03.580,00:14:06.360
"Similarly we could ask
how many flips until HH?",00:14:06.360,00:14:09.760
"That is,",00:14:09.760,00:14:10.770
"how long do you have to flip a coin until
the coin lands heads twice in a row.",00:14:10.770,00:14:15.150
"Okay, so let's find the average.",00:14:16.460,00:14:20.630
"So let's say, let's call that,
I'll just call it WHT and WHH.",00:14:22.520,00:14:29.250
"But WHT I just mean the random
variable representing",00:14:30.440,00:14:34.180
"how many flips does it, you know.",00:14:34.180,00:14:35.480
"Imagine this long sequence
of coin flips and",00:14:35.480,00:14:38.920
"how far into the sequence do you have to
get until you see HT for the first time.",00:14:38.920,00:14:43.720
"How far until you see HH for the first
time, those are both random variables.",00:14:43.720,00:14:47.870
"But right now we're talking
about expectation, so",00:14:47.870,00:14:49.910
the question is to find the average.,00:14:49.910,00:14:52.600
"So our problem is to find the expected
values of these two waiting time.",00:14:52.600,00:14:59.730
I'm using W for waiting time.,00:14:59.730,00:15:01.610
"Expected value, how long you have
to wait for these patterns, okay?",00:15:01.610,00:15:06.040
"Well, so we'll solve both of these, but
before I actually solve them, let's try",00:15:07.100,00:15:12.970
"to think more qualitatively about whether
there's an inequality or equality here.",00:15:12.970,00:15:19.150
"Okay, so we know there's only three
possibilities, either this number is",00:15:19.150,00:15:24.080
"bigger than this number or it's equal,
or this is less than this, okay?",00:15:25.470,00:15:31.160
"So why don't you take a few seconds to
think intuitively about whether you think",00:15:31.160,00:15:34.660
"they're equal or one is bigger and
if so which one is bigger.",00:15:34.660,00:15:37.800
Then we'll vote.,00:15:37.800,00:15:38.570
"Then we'll see, okay.",00:15:39.660,00:15:40.890
"So there's three possibilities, right?",00:15:40.890,00:15:45.789
Think about which one you think is true.,00:15:45.789,00:15:48.140
"Okay, so how many of you think
that this is greater than this?",00:15:53.637,00:15:58.840
"Raise your hand if you think
this is greater than this.",00:15:58.840,00:16:02.980
"Okay, and
how many of you think this equals this?",00:16:02.980,00:16:06.030
"Okay, and how many of you think
this is greater than this?",00:16:07.560,00:16:10.760
"Okay, so the dominant answer is equality,
and it's roughly equal numbers,",00:16:12.010,00:16:17.620
"saying this is greater than this or
that this is greater than this.",00:16:17.620,00:16:22.190
"Okay, well the answer
is this one equals 4.",00:16:22.190,00:16:25.690
"And this one equals 6, 50% bigger.",00:16:29.063,00:16:34.764
"But you might say, well, by symmetry
don't they have to do the same thing?",00:16:39.150,00:16:43.500
That would be a false use of symmetry.,00:16:43.500,00:16:45.320
"Symmetry would tell us that,
if we would ask the same question.",00:16:46.620,00:16:51.860
"Let's do a little symmetry
argument over here.",00:16:51.860,00:16:56.030
"Symmetry would say expect the value
of WTT equals expected value of WHH.",00:16:56.030,00:17:02.840
That has to be true by symmetry.,00:17:02.840,00:17:05.135
"Because, the coin, it says heads on one
side, tails on the other, but you could",00:17:05.135,00:17:09.385
"have, like relabeled it, the same problem
again, just with a different labeling.",00:17:09.385,00:17:13.906
"So that's symmetry,
that I'm interchanging heads and tails.",00:17:13.906,00:17:16.890
"Similarly, we know that E
of WHT equals E of WTH,",00:17:16.890,00:17:22.433
"But this, neither of these
tells us that these are equal.",00:17:26.919,00:17:30.310
It doesn't tell us that they're not equal.,00:17:30.310,00:17:31.720
It just you can't just say by symmetry.,00:17:31.720,00:17:33.710
"Because you have to swap heads and
tails everywhere,",00:17:33.710,00:17:36.130
and those are different things.,00:17:36.130,00:17:37.490
"All right, so let's do the calculation.",00:17:38.580,00:17:40.000
"Then I'll talk a little more
about the intuition for",00:17:40.000,00:17:43.800
why is this bigger than this?,00:17:43.800,00:17:45.780
But let's just calculate it first.,00:17:45.780,00:17:47.520
"Okay, so first",00:17:49.250,00:17:53.274
let's do E of WHT.,00:17:53.274,00:17:58.231
"So a nice way to think about it,",00:18:00.495,00:18:01.968
"we don't actually need
a conditional expectation for this.",00:18:01.968,00:18:05.130
"A nice way to think about this problem
it is just imagine a sequence of tosses.",00:18:05.130,00:18:10.960
"Maybe it starts out tails,
tails, tails, tails.",00:18:10.960,00:18:14.380
"Eventually the coin will land heads,
right?",00:18:14.380,00:18:18.930
"Now once this has happened you can see
we've made partial progress, right?",00:18:18.930,00:18:24.380
"Because now, well if the next
flip is tails, then we're done.",00:18:24.380,00:18:28.800
"But if not, that's okay.",00:18:28.800,00:18:30.660
"Heads, Heads, Heads,
eventually it'll be Tails.",00:18:30.660,00:18:34.230
"So then we're done, right, then we got it.",00:18:34.230,00:18:38.650
"So just drawing, a few examples like that,
make up your own little sequences to",00:18:38.650,00:18:43.450
"make it concrete then you'll see
what's going on here, which is that",00:18:43.450,00:18:47.870
"all we have to do is wait for
the first time the coin lands heads.",00:18:49.180,00:18:53.970
Let's call that W1.,00:18:53.970,00:18:55.986
"That could be the first flip, but",00:18:55.986,00:18:58.076
"it could be however long it
takes to til the first head.",00:18:58.076,00:19:02.300
"And then, after that point.",00:19:02.300,00:19:04.343
"How long do you have to wait
additionally for the first tails?",00:19:07.309,00:19:10.120
Let's call that W2.,00:19:10.120,00:19:11.610
"So matter what happens, I can always
split it up between a W1 and a W2, right?",00:19:11.610,00:19:15.456
"Time to the first heads, time to the first
tails after the first heads, right?",00:19:15.456,00:19:22.768
"Well, okay, those are independent of each
other, because the coin is memory less.",00:19:22.768,00:19:29.460
"But even if they were not independent,
we could still apply linearity and",00:19:29.460,00:19:32.990
"just say this is E of W1, plus E of W2,",00:19:32.990,00:19:36.960
equals 2 plus 2 equals 4.,00:19:39.070,00:19:42.000
"Since the W is basically a geometric
the only thing we have to be careful",00:19:42.000,00:19:46.570
"about is that we define the geometric
to not include the success.",00:19:46.570,00:19:50.190
"So actually W j -1 with our
convention is gemoetric 1/2.",00:19:50.190,00:19:53.806
"Right, it's just a waiting time for
success and where here we're defining",00:19:55.266,00:19:59.685
"success to be this heads and here
we're defining to be this tails, okay?",00:19:59.685,00:20:04.158
"So geometric 1/2, this has expected
value of 1, 1 plus 1 is 2.",00:20:04.158,00:20:08.830
"So each of this, an average will
take two flips to get to this stage,",00:20:08.830,00:20:11.978
"two more flips to get to this stage,
2 plus 2 is 4 linearity.",00:20:11.978,00:20:14.926
"[COUGH] Okay so,
Let's try to do the same thing with heads,",00:20:16.940,00:20:23.343
"heads and see why that doesn't
give us the same thing there.",00:20:23.343,00:20:27.570
"All right, so
now we're gonna do E of (WHH) and",00:20:27.570,00:20:35.830
"again it just really helps for
concreteness draw some little examples.",00:20:35.830,00:20:41.840
"So, again, maybe the sequence
starts out Tails three times,",00:20:41.840,00:20:45.590
"four times, like here,
eventually the coin lands heads.",00:20:46.870,00:20:50.790
"Now at this point, so we could still call
that W1 if we want, but at this point",00:20:50.790,00:20:55.740
"either of two things can happen, either
the next flip is heads then we're done,",00:20:57.400,00:21:01.160
"we got it, but if the next toss is tails,
we have no partial progress anymore.",00:21:01.160,00:21:08.740
"That means that in this scenario
these tosses were all wasted, right.",00:21:09.890,00:21:14.510
"They do nothing for
us then the thing just restarts.",00:21:14.510,00:21:17.586
"Al right, I mean it took six tosses to get
to this point, but we're starting again",00:21:17.586,00:21:22.150
"with exact same problem we had,
right, no partial progress.",00:21:22.150,00:21:25.349
In this case we have partial progress.,00:21:26.640,00:21:28.810
"Because once you get this heads for
the first time,",00:21:28.810,00:21:32.700
"then you're halfway there essentially,
right?",00:21:33.850,00:21:37.940
"That, that's the key distinction.",00:21:37.940,00:21:39.380
"All right, so here we have to be more
careful because in this case all these",00:21:40.448,00:21:45.150
"tosses are gone and
we just start over again.",00:21:45.150,00:21:47.350
"Okay, so now we're gonna use conditional
expectation to compute this.",00:21:47.350,00:21:51.358
"So it's kinda like gamblers
ruin type of thing where we",00:21:51.358,00:21:54.580
condition on the first toss.,00:21:54.580,00:21:56.410
"So this is E of WHH given, you can
make up some notation if you want it,",00:21:58.500,00:22:04.195
but I'll just write it.,00:22:04.195,00:22:06.380
First toss is heads times 1/2 + that's,00:22:06.380,00:22:11.407
"the probability that
the first toss is heads,",00:22:11.407,00:22:16.854
"plus expected value WHH given
first toss his tails times 1/2.",00:22:16.854,00:22:24.550
"Just conditioning on the two cases that
this first toss is either heads or tails.",00:22:27.000,00:22:31.340
And now let's expand it out further.,00:22:33.010,00:22:35.290
This one we need some space for probably.,00:22:36.470,00:22:39.400
"This one the second term is
actually easier here, okay?",00:22:39.400,00:22:45.330
So I wanna compute this thing,00:22:45.330,00:22:48.313
"I want the expected value WHH given
that the first toss is tails, okay?",00:22:50.898,00:22:55.810
"Then the first toss is tails,
what is that say?",00:22:57.160,00:23:00.650
"It says the first toss is tails,
that cost us one toss.",00:23:00.650,00:23:06.070
"Tossed the coin once,
the coin was tails, okay?",00:23:06.070,00:23:08.890
"Then it's the same problem again, right?",00:23:10.150,00:23:12.840
Exact same problem.,00:23:12.840,00:23:13.750
So that's just E of WHH again.,00:23:15.150,00:23:17.360
"We're gonna try to solve for
it in terms of itself.",00:23:17.360,00:23:19.950
"Which sounds circular but
then we have an equation.",00:23:19.950,00:23:22.430
"We can just solve that equation for
E of WHH, okay?",00:23:22.430,00:23:25.891
"So that was the first toss, was a waste
and then it's the same problem again.",00:23:25.891,00:23:31.690
"Now for this first term,
first toss is heads.",00:23:31.690,00:23:37.790
"We have to further subdivide it into
two cases based on the second toss.",00:23:37.790,00:23:42.490
"So here we're when we're doing this
conditional expectation it means we're",00:23:42.490,00:23:46.200
"working within the world where we
now know the first toss is heads.",00:23:46.200,00:23:50.940
That's the information we have.,00:23:50.940,00:23:52.470
Now we look at the second toss.,00:23:52.470,00:23:56.140
"If the second toss is also heads, then
that means the first two tosses were H,",00:23:56.140,00:23:59.740
"H and then we're done and
it only took two flips.",00:23:59.740,00:24:02.720
And that has probability 1/2.,00:24:02.720,00:24:03.945
"But, with probability
one-half within this case,",00:24:05.270,00:24:10.730
the second toss is tails.,00:24:10.730,00:24:13.620
"In that case, the sequence started out HT,
which does nothing for us, right?",00:24:13.620,00:24:18.800
"That means it's a waste of two tosses and
then it's the same problem again.",00:24:18.800,00:24:23.009
"Right, two tosses from heads tails and
its the same problem.",00:24:27.820,00:24:31.590
It resets again at the same problem.,00:24:31.590,00:24:34.781
"All right, so now, we have an equation for
E(WHH) in terms of itself.",00:24:34.781,00:24:40.198
"So just multiply the 2 times 1/2 is 1 and
move things around,",00:24:40.198,00:24:46.523
"and you'll get that
the expected value is 6.",00:24:46.523,00:24:51.009
"But you can also check just
by plugging in 6 here.",00:24:54.190,00:25:00.150
"This is five-halves plus
seven-halves is twelve-halves, is 6.",00:25:00.150,00:25:06.210
So that works.,00:25:06.210,00:25:07.341
"All right, so okay, so
that seems a little strange.",00:25:07.341,00:25:10.593
"And to kind of explain a little
bit of the intuition here,",00:25:10.593,00:25:14.927
"let's imagine drawing like a long
sequence of coin tosses and",00:25:14.927,00:25:19.624
"look at where did the HHs appear and
where did the HTs appear?",00:25:19.624,00:25:24.254
"So maybe it looks like TTHHHT, blah,",00:25:24.254,00:25:29.214
"blah, blah, blah, blah, blah, blah.",00:25:29.214,00:25:34.804
"And then somewhere later on there's an
HHHTT, you can make up your own sequence.",00:25:34.804,00:25:40.591
"I'm just gonna try to illustrate
kinda what's the big picture of",00:25:40.591,00:25:45.393
why this is true.,00:25:45.393,00:25:47.210
"In other words, the question I guess is
why doesn't this contradict the fact that,",00:25:47.210,00:25:52.070
"since it's a fair coin,",00:25:53.220,00:25:54.350
"if we flip the coin twice, then all
four possibilities are equally likely.",00:25:54.350,00:25:58.570
"So if I'm only looking at two particular
positions, let's say here and",00:25:58.570,00:26:03.705
"here, it's equally likely that this
will be HH as for it to be HT.",00:26:03.705,00:26:08.351
"Those are both one-fourth, okay,",00:26:08.351,00:26:09.911
"so I think that's where the intuition
comes from that it should be the same.",00:26:09.911,00:26:13.147
"When you look at any two positions,
it's equally likely.",00:26:13.147,00:26:15.840
"But we're not just
looking at two positions.",00:26:17.050,00:26:19.260
We're looking at the entire sequence.,00:26:19.260,00:26:21.260
"And what happens is that what the HH is,",00:26:21.260,00:26:25.490
"sometimes you'll get three heads in a row,
sometimes you'll get five heads in a row.",00:26:25.490,00:26:29.960
"If you have three in a row,
then that means there's an HH there and",00:26:29.960,00:26:34.180
"an HH there, they're nested.",00:26:34.180,00:26:36.610
"So if we have five Hs in a row,
which will happen",00:26:36.610,00:26:40.030
"more often than most people would expect,
cuz coincidences happen a lot.",00:26:40.030,00:26:44.160
"And look at all these HHs
with those five in a row.",00:26:44.160,00:26:47.980
Try to do the same thing with HT.,00:26:49.270,00:26:51.779
"You can't, right?",00:26:51.779,00:26:53.500
"It doesn't nest inside
itself in the same way.",00:26:53.500,00:26:56.690
"So that means that when you get the HHs,
they're kind of clumped together.",00:26:56.690,00:27:02.120
"But on the other hand,",00:27:02.120,00:27:03.290
"you have the same expected total
number of appearances of that.",00:27:03.290,00:27:07.340
"So since the HHs are more clumped,
they appear in clumps,",00:27:07.340,00:27:10.440
those clumps must be further apart.,00:27:10.440,00:27:12.840
That's what's going on.,00:27:12.840,00:27:13.970
"Okay, and if you think this is just
kind of a curiosity of coin flipping,",00:27:15.480,00:27:22.290
"this kind of problem actually has
important applications in genetics.",00:27:22.290,00:27:26.700
"In genetics, we will not be looking
at sequences of heads and tails.",00:27:26.700,00:27:29.750
"But we'll look at a DNA sequence which
is the sequence that's drawn from",00:27:29.750,00:27:33.518
the alphabet ACTG.,00:27:33.518,00:27:34.584
"And a lot of times,
in genetics these days,",00:27:34.584,00:27:37.286
"you won't necessarily study certain
patterns, right, they call motifs,",00:27:37.286,00:27:42.033
"where the pattern appear in the DNA
sequence and you get similar problems.",00:27:42.033,00:27:47.220
"And, while I'm mentioning this,
I'll recommend a TED Talk,",00:27:47.220,00:27:52.493
"Peter Donnelly is a statistician
who works on genetics.",00:27:52.493,00:27:57.193
"And I don't know if you've
seen any of the TED Talks.",00:27:57.193,00:28:00.710
"But if you go to ted.com and
look for Peter Donnelly's talk,",00:28:00.710,00:28:04.440
"he mentions some interesting courtroom
examples, and statistics and",00:28:04.440,00:28:08.748
probability in the courtroom.,00:28:08.748,00:28:10.703
"And he also talked about
an example similar to this.",00:28:10.703,00:28:14.510
It's quite a nice talk.,00:28:14.510,00:28:15.610
"Okay, so, that's the waiting for
certain sequences.",00:28:16.820,00:28:23.400
You can extend this in various directions.,00:28:24.430,00:28:26.760
"This was already a fair amount of work,
not too bad.",00:28:26.760,00:28:31.325
"You could also ask more
complicated questions,",00:28:31.325,00:28:34.613
"like longer sequences and
things like that.",00:28:34.613,00:28:37.670
"And there are a lot of other
methods that can be used for",00:28:37.670,00:28:41.750
more complicated sequences.,00:28:41.750,00:28:43.270
"But that basic method
is just conditioning.",00:28:43.270,00:28:46.560
"So you can see that
conditional expectation,",00:28:46.560,00:28:49.560
"just like in the Gambler's Ruin, let us
simplify kind of this complicated problem,",00:28:49.560,00:28:53.540
"break it up into simpler pieces,
by conditioning on the first two.",00:28:53.540,00:28:57.190
"Essentially, what we did was to
condition on the first two tosses.",00:28:57.190,00:28:59.970
"Another way to do that, but
I sort of did it in two steps.",00:28:59.970,00:29:02.840
"We could have also done this just by,
at the very beginning,",00:29:02.840,00:29:05.510
"breaking it up into four cases,
based on the first two tosses.",00:29:05.510,00:29:09.190
"That might have been even easier, but
anyway, I did the two-two step way, okay?",00:29:09.190,00:29:16.533
"So that's the basic idea
of conditional expectation.",00:29:16.533,00:29:20.110
"And I guess to just state
it a little bit more,",00:29:20.110,00:29:25.580
"some of the general properties
of conditional expectation,",00:29:25.580,00:29:29.170
and would be useful.,00:29:29.170,00:29:33.270
"And also we're leading into
conditioning on a random variable.",00:29:33.270,00:29:40.743
"This whole week is about
conditional expectation.",00:29:40.743,00:29:43.810
"So far, we've been doing conditional
expectation where we conditioned on",00:29:43.810,00:29:46.852
"an event, okay?",00:29:46.852,00:29:47.573
"But what we're gonna get to is what does
it mean to condition on a random variable?",00:29:47.573,00:29:51.400
"They're very, very closely related.",00:29:53.390,00:29:56.000
"But if you mix them up,
then it can be bad.",00:29:56.000,00:29:58.320
So we have this thing with E(Y given X=x).,00:29:58.320,00:30:05.650
"I just wanna make sure everyone is
completely clear on what this means both",00:30:05.650,00:30:10.340
intuitively and mathematically.,00:30:10.340,00:30:12.940
What does this expression actually mean?,00:30:12.940,00:30:15.172
"Well, I've said over and over again that
big X equals little x is an event, right?",00:30:15.172,00:30:22.660
"I mean assuming capital X and Y are random
variables, little x is a number.",00:30:22.660,00:30:27.270
We're conditioning on that event.,00:30:28.390,00:30:30.530
"And as I've been saying, all that means
to do is use the same definition of",00:30:30.530,00:30:34.140
expectation except make it conditional.,00:30:34.140,00:30:36.380
"That's why it's called
conditional expectation, okay?",00:30:36.380,00:30:38.770
"So at this point, you should all be
able to just write down the definition,",00:30:38.770,00:30:42.920
that this is for Y discrete.,00:30:42.920,00:30:45.260
"And we'll write down
the continuous case too.",00:30:45.260,00:30:47.120
"Okay, so in the discrete case,
to get the expected value,",00:30:49.230,00:30:52.630
"we just sum up the values times the PMF,
right?",00:30:52.630,00:30:55.240
"So the sum of y times the probability that
Y=y, that would just be expectation of Y.",00:30:55.240,00:31:01.520
"The only difference is we make
this conditional, given X=x.",00:31:01.520,00:31:06.998
"That's all this means,
that we learned the X was equal to x,",00:31:10.116,00:31:13.671
"and so we conditioned on that information,
right?",00:31:13.671,00:31:16.753
"So it's our best prediction of
the value of Y given this information.",00:31:16.753,00:31:23.350
"Best in a certain sense of minimizing the
square of how far off you are on average,",00:31:24.440,00:31:31.494
"cuz it minimizes
the expected square error.",00:31:31.494,00:31:35.455
That's the discrete case.,00:31:35.455,00:31:37.070
"Let's also just write
down the continuous case.",00:31:37.070,00:31:38.998
"So if Y is continuous,
then the basic definition of",00:31:43.746,00:31:48.918
"expectation, we'd integrate
y times the PDF of Y.",00:31:48.918,00:31:54.222
"And now we're just gonna use
a conditional PDF instead,",00:31:54.222,00:31:58.086
"which you might write as F of Y given X,
Y given X.",00:31:58.086,00:32:01.400
"Dy, okay?",00:32:02.510,00:32:05.263
"And if x is also continuous,
just to remind you of how we get",00:32:05.263,00:32:10.517
"this conditional PDF,
what the definition of the conditional",00:32:10.517,00:32:16.204
"PDF is completely analogous
to conditional probability.",00:32:16.204,00:32:21.945
"That is instead of a probability,
we have the density but",00:32:21.945,00:32:25.185
"the density of Y and
x divided by the density of x.",00:32:25.185,00:32:28.915
So that would just be the joint PDF.,00:32:28.915,00:32:31.568
Divided by the marginal PDF of x.,00:32:34.412,00:32:37.670
"So this just says that this equals this
because if just says that to get the joint",00:32:42.390,00:32:48.930
"PDF we could take the marginal PDF of x
times the conditional PDF of y given x.",00:32:48.930,00:32:54.620
So we could also write it this way.,00:32:54.620,00:32:56.330
"And notice that this marginal here,",00:32:56.330,00:32:59.570
"that doesn't depend,
that's supposed to be y not px.",00:32:59.570,00:33:02.920
"This doesn't depend on y, so we could take
this out of the integral, if we want or",00:33:02.920,00:33:07.060
"we can leave it there, same thing.",00:33:07.060,00:33:09.070
"So, this is just the analog, it's just
saying we're using conditional PDF,",00:33:10.460,00:33:14.470
its defined analogous.,00:33:14.470,00:33:16.275
"So, I mean that that that's how you
compute things using a sum or an integral",00:33:18.230,00:33:22.480
"but that that doesn't yet say like
what property does this satisfy, okay?",00:33:22.480,00:33:28.470
So let's let this thing be g of x.,00:33:28.470,00:33:31.670
"That's g of lower case x = E of Y,",00:33:33.900,00:33:38.447
given big X = little x.,00:33:38.447,00:33:41.700
"I'm writing it as g of x just
to emphasize the fact that this,",00:33:44.670,00:33:48.191
"when you compute this thing, because I
can't even count the number of mistakes",00:33:48.191,00:33:52.821
"I've seen in these kinds of problems where
I give a problem like this on an exam.",00:33:52.821,00:33:57.473
"And then get an answer that
involves capital X or capital Y,",00:33:57.473,00:34:00.885
"which you should immediately know would
be would be completely wrong, okay,",00:34:00.885,00:34:05.388
"because this is the expected value of y,",00:34:05.388,00:34:07.707
"it can't depend on capital Y because
you're taking the average of Y.",00:34:07.707,00:34:11.760
"So how can that depend on,
you can't you can't base that on Y,",00:34:11.760,00:34:15.070
"right that's your prediction
of Y you can't use Y, okay.",00:34:15.070,00:34:19.150
"Given this information X = x, for
conditioning on this event and it can",00:34:19.150,00:34:25.540
"involve capital X, it can involve capital
Y, it's just a function of little x.",00:34:25.540,00:34:29.470
It might be a constant.,00:34:29.470,00:34:30.440
"If X and Y are independent,",00:34:31.480,00:34:33.065
"then conditioning on X gives
us no information about Y.",00:34:33.065,00:34:37.620
"So if they're independent, this will just
reduce to E of Y, which is a constant",00:34:37.620,00:34:43.000
"function, but it has to be a function of
x, possibly a constant function, okay.",00:34:43.000,00:34:48.460
"So that's just to emphasize
that's a function of x.",00:34:48.460,00:34:51.550
But that also suggests how to define,00:34:51.550,00:34:55.410
"conditional expectation
given a random variable.",00:34:55.410,00:35:00.430
"So we wanted to find E
of Y given capital X,",00:35:00.430,00:35:05.281
"As g of X, capital X now.",00:35:08.444,00:35:11.857
"[COUGH] So I mean this is like not
a complicated looking equation, but",00:35:11.857,00:35:17.714
"conceptually, this takes a lot
of thought and I'll explain it.",00:35:17.714,00:35:23.390
"And I'll explain it more
in the next lecture.",00:35:23.390,00:35:26.330
"But really,",00:35:26.330,00:35:27.020
"you just have to take some time to just
think about what these things mean.",00:35:27.020,00:35:31.390
"I think carefully about it
because there's just so",00:35:31.390,00:35:34.176
"many mistakes you could fall into we don't
fully understand what this notation means.",00:35:34.176,00:35:39.760
"All right, so what this thing means
is we have this function of little x,",00:35:39.760,00:35:44.980
"and we replace little x by big X,
after evaluating it, not before.",00:35:44.980,00:35:53.080
"So one trap you could
fall into here is to say,",00:35:53.080,00:35:56.700
"well, g of capital,
this is g of little x, g of capital X,",00:35:56.700,00:36:01.650
"then I should plug in big X for
everywhere I see a little x.",00:36:01.650,00:36:05.810
"So I plug it in there and there, but",00:36:05.810,00:36:08.700
"in that case you would be saying
EY given capital X = capital X.",00:36:08.700,00:36:13.750
"And then you'd say, well,
I already knew capital X = capital X.",00:36:13.750,00:36:17.200
"So that's just irrelevant information that
I'll cross out and you'll get E of Y.",00:36:17.200,00:36:22.570
That's not what this means.,00:36:22.570,00:36:24.580
"What it means is,",00:36:24.580,00:36:25.990
"think of this as a function of little
x that you've actually computed.",00:36:27.400,00:36:30.560
"Like, maybe it's x squared.",00:36:30.560,00:36:32.380
I'll just write this as an example.,00:36:32.380,00:36:34.700
"So what it means is if g
of x little x = x squared.",00:36:34.700,00:36:39.590
Then g of big X = big X squared.,00:36:40.670,00:36:44.910
"That's all it means,
that this is some function of X.",00:36:46.220,00:36:49.260
"And you replace little x by big X after
we actually have our hands on that",00:36:49.260,00:36:53.980
"function, okay?",00:36:53.980,00:36:55.269
"It's really just a notational trap
to think of plugging in the x here.",00:36:55.269,00:36:58.870
"But think of this as some function
you're replacing little x by big X.",00:36:58.870,00:37:02.970
Notice that that's a random variable.,00:37:02.970,00:37:05.080
"So in particular,
E of Y given X is a random variable.",00:37:05.080,00:37:12.136
"It's a random variable
that's a function of x.",00:37:15.665,00:37:19.700
"It's not a function of y,
it's a function of x.",00:37:19.700,00:37:23.519
"All right, so the intuition for
that is that,",00:37:24.701,00:37:29.626
I mean this is the definition.,00:37:29.626,00:37:33.290
"But the intuitive interpretation
is that E of Y given X,",00:37:33.290,00:37:38.220
what that means is X is a random variable.,00:37:39.420,00:37:43.540
"But let's pretend that we observed X,
and we know what X is, and",00:37:43.540,00:37:48.630
"we then get to treat X as if it's
a known constant, that's what this says.",00:37:48.630,00:37:53.630
"So, it says assuming we get
to pretend that X is known,",00:37:53.630,00:37:57.430
then what's our best prediction of Y?,00:37:57.430,00:37:59.700
"So that's allowed to be
a function of capital X, okay?",00:38:00.940,00:38:04.030
So that's what it means intuitively.,00:38:04.030,00:38:06.870
"It's not really that
different from this and",00:38:06.870,00:38:09.090
"in fact when you have a problem like this,
you can always at",00:38:09.090,00:38:12.070
"least in principle translate it
back into conditioning on an event.",00:38:12.070,00:38:15.840
"It's just that the notation can
gets more unwieldy in this case.",00:38:15.840,00:38:19.613
"And we'll see examples where
it's just a lot more compact and",00:38:19.613,00:38:22.681
"convenient to write things this way than
always having to revert back to this.",00:38:22.681,00:38:26.584
"But if you start getting
confused about what this means,",00:38:26.584,00:38:30.199
"then you probably should revert
back to this kind of notation.",00:38:30.199,00:38:34.201
"Okay, so all right, so
let's do a couple of examples.",00:38:34.201,00:38:38.778
"So, Let's do one with Poissons.",00:38:43.804,00:38:50.790
"So let's let X and Y iid,",00:38:50.790,00:38:56.544
I-I-D Poisson lambda.,00:38:56.544,00:39:02.585
"So all right, so suppose we",00:39:02.585,00:39:07.626
wanna find E of X + Y given X.,00:39:07.626,00:39:12.895
"So, as I said, if we want, we could
first find this given big X = little x.",00:39:14.830,00:39:21.050
"And then change little x to big X and
you'll get the same thing.",00:39:21.050,00:39:24.850
"But, just for practice, let's do this
directly using the interpretation I",00:39:24.850,00:39:28.290
"mentioned, that this says we get
to pretend that we know X now.",00:39:28.290,00:39:33.030
"All right, so linearity still holds.",00:39:33.030,00:39:36.600
"So this is E of X given
X + E of Y given X.",00:39:36.600,00:39:40.694
We can still use linearity.,00:39:42.924,00:39:44.660
"The reason is that conditional
probabilities are probabilities, right?",00:39:44.660,00:39:48.776
"So conditional probabilities
satisfies all the same rules and",00:39:48.776,00:39:52.090
properties as probability.,00:39:52.090,00:39:54.280
"But therefore, since conditional
expectation is defined in terms of",00:39:54.280,00:39:57.030
"conditional probability,
conditional expectations are expectations.",00:39:57.030,00:40:01.610
"It satisfies the same properties such as
linearity So linearity is still true.",00:40:01.610,00:40:08.220
"Okay, so now let's just think about,
what does this thing actually mean?",00:40:08.220,00:40:10.705
"E(X|X), that's easy, that's X,
right, what else could it be?",00:40:10.705,00:40:18.300
"I know X and I want to predict X,
I'm gonna use X as my prediction.",00:40:18.300,00:40:23.854
"So okay, it has to be that.",00:40:23.854,00:40:27.745
&gt;&gt; No.,00:40:27.745,00:40:29.066
"&gt;&gt; [LAUGH]
&gt;&gt; Now let's think about E(Y|X).",00:40:29.066,00:40:31.531
"X and Y, I said they're iid,
so they're independent.",00:40:33.898,00:40:37.060
"Since they're independent,",00:40:38.392,00:40:40.970
"that means that getting to know X is
of no use at all in predicting Y.",00:40:40.970,00:40:46.527
So that's just the same thing as E(Y).,00:40:46.527,00:40:50.651
"So this part is by independence, and
this part is X, X is a function of itself.",00:40:50.651,00:40:56.205
"In general, we'll talk more about this
later, but I may as well mention it now.",00:41:02.917,00:41:07.860
"If we have E(h(x)|x), this is true for
any problem, not just the Poisson, so",00:41:07.860,00:41:12.077
I'm putting it above this.,00:41:12.077,00:41:13.539
"We'll come back to this later,
but since it's already coming up.",00:41:13.539,00:41:16.795
"If we get to know, h is any function,
we get to know X, well then we know h(x),",00:41:16.795,00:41:21.493
so we could just compute it.,00:41:21.493,00:41:23.192
"So E(h(x)|x) = h(X), right?",00:41:23.192,00:41:27.531
"Cuz we have X, we have h(x) so
that's it, no uncertainty about it.",00:41:27.531,00:41:33.820
"Okay so E(X|X) is X,
E(Y|X) is just E(Y), so",00:41:33.820,00:41:37.946
"that's just X + lambda,
For the Poisson case.",00:41:37.946,00:41:43.890
"Actually, up to this point, I'm not using
anything in particular about Poisson,",00:41:43.890,00:41:49.411
"I'm only using the fact that
they're independent, okay?",00:41:49.411,00:41:53.393
"So that's just an example that shows,
okay, we can still use linearity.",00:41:53.393,00:42:00.258
"If we have independence, we can drop
the stuff we're conditioning on.",00:42:00.258,00:42:03.350
"And if we have something
that's completely known,",00:42:04.810,00:42:07.287
"then we can actually just take it out,
because it's known.",00:42:07.287,00:42:10.168
"All right,
now let's do the kind of reverse problem,",00:42:10.168,00:42:15.536
suppose we were asked to find E(X|X+Y).,00:42:15.536,00:42:19.983
"And okay, so there's no form
of linearity that says this",00:42:23.500,00:42:28.071
E(X) given this plus E(X|Y).,00:42:28.071,00:42:30.937
"And I've seen that mistake several times,
maybe, in time pressure-type of panic.",00:42:30.937,00:42:35.074
"Just, linearity is like this,
no, we can't do that here.",00:42:35.074,00:42:40.408
"Okay, so
we have to think about what this means.",00:42:40.408,00:42:44.933
"So I'll show you two ways to do this,
actually.",00:42:44.933,00:42:48.223
"One way is just straight
from the definition.",00:42:48.223,00:42:54.806
"We're gonna let T = X + Y and let's find
the conditional distribution, right?",00:42:54.806,00:43:01.999
"Because what this says is we
get to know the value of T, and",00:43:01.999,00:43:05.417
"then we use the conditional
distribution rather than the, right?",00:43:05.417,00:43:09.495
"Without this it would say just
the unconditional, right,",00:43:09.495,00:43:11.726
"what's the expected value,
we know it's lambda.",00:43:11.726,00:43:14.070
"But given this information, right,",00:43:14.070,00:43:17.417
"treating T as known,
then we need a conditional PMF.",00:43:17.417,00:43:22.132
"So, find the conditional PMF, Okay,",00:43:22.132,00:43:29.307
"so this is similar to
other problems we've seen,",00:43:29.307,00:43:34.440
but let's just compute it for practice.,00:43:34.440,00:43:38.730
We need the conditional PMF.,00:43:38.730,00:43:41.770
"We want the probability that X equals k,
let's say,",00:43:41.770,00:43:47.128
"given that T equals some number,
let's say n.",00:43:47.128,00:43:51.900
"Those are just dummy variables here,
I'm just finding the conditional PMF.",00:43:53.995,00:43:57.330
"That is, what's the distribution of X,
given that we know T, okay?",00:43:57.330,00:44:02.174
"So by Bayes' rule, that's just",00:44:02.174,00:44:07.453
"P(T = n | X = k) P(X = k),",00:44:07.453,00:44:12.354
divided by P(T = n).,00:44:12.354,00:44:16.136
"And that's actually an easy calculation,
because T, this is another",00:44:16.136,00:44:21.477
"example of like that plugging in
thing with the two-envelope problem.",00:44:21.477,00:44:26.924
"T is X + Y, so we're gonna plug X = k,
and so we know that Y = n- k.",00:44:26.924,00:44:32.333
"And then in this case, we do get to cross
out this information at that point,",00:44:32.333,00:44:36.331
because X and Y are independent.,00:44:36.331,00:44:38.440
"This would fail if
they're not independent.",00:44:38.440,00:44:40.852
"But in this case, X and Y are independent,",00:44:40.852,00:44:46.540
so really this is just P(Y = n- k),00:44:46.540,00:44:51.280
P(X =k) divided by P(T = n).,00:44:51.280,00:44:55.864
"And sorry, we're going right to left here,
let's just write what is this here.",00:44:55.864,00:45:00.685
"Y = n- k,
just straight from the Poisson, right?",00:45:00.685,00:45:05.740
"E to the -lambda,
lambda to the n- k over (n- k) factorial.",00:45:05.740,00:45:12.620
"X is also Poisson, e to the -lambda,
lambda to the k over k factorial.",00:45:15.230,00:45:22.620
"And in the denominator, we know that the
sum of independent Poissons is Poisson.",00:45:22.620,00:45:27.350
"So this is gonna be a Poisson
of 2 lambda in the denominator.",00:45:27.350,00:45:30.620
"So we know that's e to the -2 lambda,",00:45:30.620,00:45:35.688
"(2 lambda) to the n
divided by n factorial.",00:45:35.688,00:45:41.689
"Okay, and if we simplify this,",00:45:41.689,00:45:44.890
"we get a very familiar-looking
distribution,",00:45:44.890,00:45:49.754
"right, what distribution is this?",00:45:49.754,00:45:53.441
&gt;&gt; Binomial.,00:45:53.441,00:45:54.525
"&gt;&gt; Binomial, notice the e to
the -2 lambdas cancel, right?",00:45:54.525,00:45:59.770
"And these power of lambdas cancel, right,",00:46:00.880,00:46:03.138
"there's lambda to the n
over lambda to the n.",00:46:03.138,00:46:05.467
"We just have a one-half to the n here,
right?",00:46:05.467,00:46:08.440
"And this thing, n factorial,
put that on top, that's just n choose k.",00:46:08.440,00:46:12.920
"So this thing,
I'll simplify it one more step,",00:46:12.920,00:46:14.820
"it's just n choose k one-half to the n,
that's just a binomial.",00:46:14.820,00:46:18.850
"Okay, so what we just showed with that,
Bayes' rule,",00:46:20.050,00:46:26.514
"is that X|T = n is binomial
with parameters n and one-half.",00:46:26.514,00:46:33.680
"So now, let's use this to get
the conditional expectation.",00:46:36.050,00:46:39.750
"So what that says is E(X | X + Y), but",00:46:39.750,00:46:43.182
"let's first do the case of
conditioning on an event.",00:46:43.182,00:46:47.870
"So we're given T = n,
well that just says, given T = n,",00:46:47.870,00:46:51.518
"it's no longer Possion now, it's binomial.",00:46:51.518,00:46:55.540
"The expected value of this
binomial is just n over 2.",00:46:55.540,00:47:00.479
"So in the other notation,
this is conditioning on an event, right?",00:47:00.479,00:47:06.932
"But if we want to condition on T instead,
E(X|T), then all we have",00:47:06.932,00:47:12.271
"to do is replace this n by T,
just according to that definition there.",00:47:12.271,00:47:18.060
So that's gonna be T over 2.,00:47:18.060,00:47:19.995
"So it says that if we
get to know the total,",00:47:21.350,00:47:24.061
then our best prediction is 1/2 the total.,00:47:24.061,00:47:27.370
"That's actually a pretty intuitive result,
right?",00:47:27.370,00:47:30.891
"That we get to know the total of X and
Y, and they're iid, and",00:47:30.891,00:47:34.423
"we wanna predict
the average of one of them.",00:47:34.423,00:47:37.003
"Well, if I told you the total was 100,
and they're iid,",00:47:37.003,00:47:40.099
"you'd probably guess that they're each 50,
right?",00:47:40.099,00:47:43.280
That would be a reasonable guess.,00:47:43.280,00:47:45.310
"So that's a mathematical proof that
that's kinda the correct guess.",00:47:45.310,00:47:48.880
"That's one way to prove it,
here's a way that I like even more,",00:47:48.880,00:47:53.107
is to notice the symmetry.,00:47:53.107,00:47:54.923
E(X | X + Y) = E (Y | X +,00:47:54.923,00:48:00.193
"Y) is true by symmetry,",00:48:00.193,00:48:05.007
because they're iid.,00:48:05.007,00:48:09.604
"This is always true with iid, that doesn't
assume anything about the Possion.",00:48:16.797,00:48:22.732
"Lets add these two things,",00:48:22.732,00:48:27.135
"E(X | X + Y) + E(Y | X + Y),",00:48:27.135,00:48:32.495
"by linearity, that's E(X + Y | X + Y).",00:48:32.495,00:48:39.587
"But E(X + Y | X + Y) is X + Y, which is T.",00:48:39.587,00:48:45.390
"So I added something plus itself and
I got this, so",00:48:47.900,00:48:52.046
"that immediately implies the same result,
E(X|T) = T/2.",00:48:52.046,00:48:57.500
"And this didn't use anything
about the Poisson, so",00:48:57.500,00:49:00.368
that's actually a more general result.,00:49:00.368,00:49:02.672
"All right, lastly let me just mention one
key property that his notation gives us,",00:49:02.672,00:49:08.370
we'll prove it next time.,00:49:08.370,00:49:09.730
"So this is called iterated expectation, or",00:49:11.080,00:49:15.099
"it's also called Adam's law for
reasons I'll tell you next time.",00:49:15.099,00:49:21.302
"This is the single most important
property of conditional expectation.",00:49:21.302,00:49:24.131
"So it's good to be aware of it now, and",00:49:24.131,00:49:25.864
"then I'll talk in detail
of that next time.",00:49:25.864,00:49:28.370
"It just says, as I said, E(Y|X) is a
random variable, so we might want to know,",00:49:28.370,00:49:33.140
"what's the expected value
of that random variable?",00:49:33.140,00:49:35.690
"Well, if you do E(E(Y|X)), you get E(Y).",00:49:35.690,00:49:40.410
"And this is closely related to
the law of total probability.",00:49:40.410,00:49:45.670
"In a sense, it's a very compact way of
writing the law of total probability,",00:49:45.670,00:49:48.970
extremely useful fact.,00:49:48.970,00:49:50.740
"All right, so
I'll see you all on Wednesday.",00:49:50.740,00:49:52.100
